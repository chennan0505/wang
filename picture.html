<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>picture.html</title>
     <meta name="Generator" content="EditPlus®">
     <meta name="Author" content="">
     <meta name="Keywords" content="">
     <meta name="Description" content="">
    <style type="text/css">
  
    *{margin:0;padding:0;}
  
    #show_bigger_pic{
	position: absolute;
	width: 978px;
	height: 300px;
	top: 144px;
	left: 123px;
    }
    .small_pic_div{
        width:978px;
        height:300px;
        border:1px solid;
        float:center;
        position:relative;/*  cover:absolute定位使用*/
    }
    .big_pic_div{
        width:978px;
        height:300px;
        border:1px solid;
        float:center;
        margin-left:10px;
        display:none;
        overflow:hidden;
    }
    .big_pic_div>img{
        position:relative;
    }
    .cover{
	width: 978px;
	height: 300px;
	position: absolute;
	border: 1px solid;
	z-index: 2;
	left: 2px;
	top: -1px;
    }
    .float_span{
        width:80px;
        height:80px;
        position:absolute;
        z-index:1;
        background:#B2DFEE;
        opacity:0.5;
        display:none;
        border:1px solid;
        left:0;
        top:0;
    }
    html{color:#000;background:#FFF}
body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,textarea,p,blockquote,th,td{margin:0;padding:0}
table{border-collapse:collapse;border-spacing:0}
fieldset,img{border:0}
address,caption,cite,code,dfn,em,strong,th,var{font-style:normal;font-weight:normal}
ol,ul{list-style:none}
caption,th{text-align:left}
h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal}
q:before,q:after{content:''}
abbr,acronym{border:0;font-variant:normal}
sup{vertical-align:text-top}
sub{vertical-align:text-bottom}
input,textarea,select{font-family:inherit;font-size:inherit;font-weight:inherit;*font-size:100%}
legend{color:#000}
a{text-decoration: none;}
	
	.zheng{
		margin:30px auto;
		position: relative;
		width: 1600px;
		height: 900px;
		background-image:url(img/3.jpg);
	}
	
	.kuang{
		margin-top: 120px;
		position: absolute;
		height: 500px;
		width: 450px;
		color:#000000;
		border:solid 1px #A89F7B;
	}
	.kuang p{
		font-size: 25px;
		font-family: "cedarville-cursive";/*设置滚动条，没有水平滚动条*/
		text-indent:2em;
	}
	.tu{
		height: 620px;
		width: 540px;
		position: absolute;
		margin-top: 0px;
		margin-left: 460px;
		background-image: url( img/2.png);
	}
	.zi{
		font-size: 25px;
		color: #EF1014;
		position: absolute;
		margin-top: -63px;
		margin-left: 1150px;
	}
	</style>
  
  
    <script type="text/javascript">
      function gbc(tparent,tclass){//获取指定父元素的指定类的子元素的函数
        var allclass=tparent.getElementsByTagName('*');
        var result=[];
        for (var i=0;i<allclass.length;i++)
        {
            if(allclass[i].className==tclass)
            result.push(allclass[i]);
        }
        return result;//返回的是数组
    }
  
    window.onload =function (){
        var sbp=document.getElementById('show_bigger_pic');//获取最外层div
        var  c=gbc(sbp,'cover')[0];//获取cover层
        var  fs=gbc(sbp,'float_span')[0];//获取浮动层
        var spd=gbc(sbp,'small_pic_div')[0];//获取小图div
        var sp=spd.getElementsByTagName('img')[0];//获取小图
        var bpd=gbc(sbp,'big_pic_div')[0];//获取大图div
        var bp=bpd.getElementsByTagName('img')[0];//获取大图
  
        var btn=true;//开关，因参数只需获取一次
  
        
        c.onmouseover  =function(){//鼠标移入小图
            fs.style.display="block";
            bpd.style.display="block";
            c.style.cursor="pointer";
            
            if(btn){
                //按照比例要得到浮动层的大小
                //大小图像的长之比
              
               
  
                var cb = sp.offsetHeight/bp.offsetHeight;
               var fsw = Math.ceil(cb * bpd.offsetHeight);//比例计算
               fs.style.height = fsw+"px";
               //alert(fs.offsetHeight+"   "+Math.ceil(cb * bpd.offsetHeight));
               var kb = sp.offsetWidth/bp.offsetWidth;
               var fsh = Math.ceil(cb * bpd.offsetWidth);
               fs.style.width = fsh+"px";
 
               btn = false;
           };
 
         
       };
 
       c.onmouseout  =function(){//鼠标移出
           fs.style.display="none";
           bpd.style.display="none";
       };
 
 
       c.onmousemove =function (ev){//鼠标移动
 
         
           //保存高比例
           var hb = sp.offsetHeight/fs.offsetHeight;
           //保存宽比例
           var wb = sp.offsetWidth/fs.offsetWidth;
 
           var pos=ev||event;
           var left=pos.clientX-sbp.offsetLeft-fs.offsetWidth/2;//计算left
           var top=pos.clientY-sbp.offsetTop-fs.offsetHeight/2;//计算top
           if(left<0){
	             left=0;//当小于0强制固定
           }
           else if(left>spd.offsetWidth-fs.offsetWidth){//大于某一参数也固定，以防浮动层移出图片区
               left=c.offsetWidth-fs.offsetWidth;
           }
           if(top<0){
               top=0;
           }
           else if(top>spd.offsetHeight-fs.offsetHeight){
               top=c.offsetHeight-fs.offsetHeight;
           }
           fs.style.left=left+"px";//浮动层位置改变
           fs.style.top=top+'px';
 
           bp.style.left=-wb*left+"px";//右边大图位置的改变，表现在实际中是放大区改变
           bp.style.top=-hb*top+"px";
       };
   }
 
   </script>
</head>

<body>
<div class="zheng"></div>
	<div id="show_bigger_pic">
   <span class="cover"></span>
   <span class="float_span"></span>
   <div class="small_pic_div">
   <img src="img/lantin.jpg" alt="" />
   </div>
   <div class="big_pic_div">
   <img src="img/lantinbig.jpg" alt="" />
   </div>
   </div>
<a class="zi" href="index.html">返回首页</a>
</body>
</html>
